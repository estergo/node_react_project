"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=function(){return(r=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var u in r=arguments[t])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e}).apply(this,arguments)};function t(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(e);u<n.length;u++)r.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(e,n[u])&&(t[n[u]]=e[n[u]])}return t}function n(e,r,t,n){return new(t||(t=Promise))((function(u,c){function i(e){try{o(n.next(e))}catch(e){c(e)}}function a(e){try{o(n.throw(e))}catch(e){c(e)}}function o(e){var r;e.done?u(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(i,a)}o((n=n.apply(e,r||[])).next())}))}function u(e,r){var t,n,u,c,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(u=2&c[0]?n.return:c[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,c[1])).done)return u;switch(n=0,u&&(c=[2&c[0],u.value]),c[0]){case 0:case 1:u=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(u=i.trys,(u=u.length>0&&u[u.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!u||c[1]>u[0]&&c[1]<u[3])){i.label=c[1];break}if(6===c[0]&&i.label<u[1]){i.label=u[1],u=c;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(c);break}u[2]&&i.ops.pop(),i.trys.pop();continue}c=r.call(e,i)}catch(e){c=[6,e],n=0}finally{t=u=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}function c(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,u,c=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=c.next()).done;)i.push(n.value)}catch(e){u={error:e}}finally{try{n&&!n.done&&(t=c.return)&&t.call(c)}finally{if(u)throw u.error}}return i}function a(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(i(arguments[r]));return e}var o=function(e){return e instanceof HTMLElement},s="blur",l="change",f="input",d="onBlur",v="onChange",h="onSubmit",m="all",y="max",p="min",b="maxLength",g="minLength",R="pattern",x="required",O="validate";var w=function(e){return null==e},k=function(e){return Array.isArray(e)},S=function(e){return"object"==typeof e},V=function(e){return!w(e)&&!k(e)&&S(e)},C=function(e){return!k(e)&&(/^\w*$/.test(e)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(e))},E=function(e){var r=[];return e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,(function(e,t,n,u){r.push(n?u.replace(/\\(\\)?/g,"$1"):t||e)})),r};function F(e,r,t){for(var n=-1,u=C(r)?[r]:E(r),c=u.length,i=c-1;++n<c;){var a=u[n],o=t;if(n!==i){var s=e[a];o=V(s)||k(s)?s:isNaN(+u[n+1])?{}:[]}e[a]=o,e=e[a]}return e}var D=function(e){return Object.entries(e).reduce((function(e,t){var n,u=i(t,2),c=u[0],a=u[1];return C(c)?r(r({},e),((n={})[c]=a,n)):(F(e,c,a),e)}),{})},j=function(e){return void 0===e},B=function(e){return e.filter(Boolean)},A=function(e,r,t){var n=B(r.split(/[,[\].]+?/)).reduce((function(e,r){return w(e)?e:e[r]}),e);return j(n)||n===e?j(e[r])?t:e[r]:n},W=function(e,r){o(e)&&e.removeEventListener&&(e.removeEventListener(f,r),e.removeEventListener(l,r),e.removeEventListener(s,r))},L={isValid:!1,value:""},N=function(e){return k(e)?e.reduce((function(e,r){return r&&r.ref.checked?{isValid:!0,value:r.ref.value}:e}),L):L},P=function(e){return"radio"===e.type},M=function(e){return"file"===e.type},H=function(e){return"checkbox"===e.type},T=function(e){return"select-multiple"===e.type},I=function(e){return""===e},q={value:!1,isValid:!1},z={value:!0,isValid:!0},$=function(e){if(k(e)){if(e.length>1){var r=e.filter((function(e){return e&&e.ref.checked})).map((function(e){return e.ref.value}));return{value:r,isValid:!!r.length}}var t=e[0].ref,n=t.checked,u=t.value,c=t.attributes;return n?c&&!j(c.value)?j(u)||I(u)?z:{value:u,isValid:!0}:z:q}return q};function _(e,r,t){var n=e.current[r];if(n){var u=n.ref.value,c=n.ref;return M(c)?c.files:P(c)?n?N(n.options).value:"":T(c)?a(c.options).filter((function(e){return e.selected})).map((function(e){return e.value})):H(c)?!!n&&$(n.options).value:u}if(t)return t.current[r]}function U(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&U(e.parentNode)}var G=function(e){return V(e)&&!Object.keys(e).length};function J(e,r){var t=C(r)?[r]:E(r),n=1==t.length?e:function(e,r){for(var t=r.slice(0,-1).length,n=0;n<t;)e=j(e)?n++:e[r[n++]];return n==t?e:void 0}(e,t),u=t[t.length-1],c=void 0;n&&delete n[u];for(var i=0;i<t.slice(0,-1).length;i++){var a=-1,o=void 0,s=t.slice(0,-(i+1)),l=s.length-1;for(i>0&&(c=e);++a<s.length;){var f=s[a];o=o?o[f]:e[f],l===a&&(V(o)&&G(o)||k(o)&&!o.filter((function(e){return V(e)&&!G(e)})).length)&&(c?delete c[f]:delete e[f]),c=o}}return e}var K=function(e,r){return e&&e.ref===r};var Q=function(e){return"string"==typeof e},X=function(e,r,t){var n={},u=function(u){(j(t)||(Q(t)?u.startsWith(t):k(t)&&t.find((function(e){return u.startsWith(e)}))))&&(n[u]=_(e,u,r))};for(var c in e.current)u(c);return n},Y=function(e,r){var t=r.type,n=r.types,u=r.message;return V(e)&&e.type===t&&e.message===u&&function(e,r){void 0===e&&(e={}),void 0===r&&(r={});var t=Object.keys(e);return t.length===Object.keys(r).length&&t.every((function(t){return r[t]&&r[t]===e[t]}))}(e.types,n)};var Z=function(e){return e instanceof RegExp},ee=function(e){return V(r=e)&&!Z(r)?e:{value:e,message:""};var r},re=function(e){return"function"==typeof e},te=function(e){return"boolean"==typeof e},ne=function(r){return Q(r)||V(r)&&e.isValidElement(r)};function ue(e,r,t){if(void 0===t&&(t="validate"),ne(e)||te(e)&&!e)return{type:t,message:ne(e)?e:"",ref:r}}var ce=function(e,t,n,u,c){var i;if(t){var a=n[e];return r(r({},a),{types:r(r({},a&&a.types?a.types:{}),(i={},i[u]=c||!0,i))})}return{}},ie=function(e,t,a,o){var s=a.ref,l=a.ref,f=l.type,d=l.value,v=a.options,h=a.required,m=a.maxLength,k=a.minLength,S=a.min,C=a.max,E=a.pattern,F=a.validate;return n(void 0,void 0,void 0,(function(){var n,a,l,D,j,B,A,W,L,M,T,q,z,U,J,K,X,Y,ie,ae,oe,se,le,fe,de,ve,he,me,ye,pe,be,ge,Re,xe,Oe,we,ke,Se,Ve,Ce,Ee,Fe,De,je,Be,Ae,We;return u(this,(function(u){switch(u.label){case 0:return n=e.current,a=s.name,l={},D=P(s),j=H(s),B=D||j,A=I(d),W=ce.bind(null,a,t,l),L=function(e,t,n,u,c){void 0===u&&(u=b),void 0===c&&(c=g);var i=e?t:n;l[a]=r({type:e?u:c,message:i,ref:s},W(e?u:c,i))},h&&(!D&&!j&&(A||w(d))||te(d)&&!d||j&&!$(v).isValid||D&&!N(v).isValid)&&(M=ne(h)?{value:!!h,message:h}:ee(h),T=M.value,q=M.message,T&&(l[a]=r({type:x,message:q,ref:B?null===(We=n[a].options)||void 0===We?void 0:We[0].ref:s},W(x,q)),!t))?[2,l]:(w(S)&&w(C)||(me=void 0,ye=void 0,z=ee(C),U=z.value,J=z.message,K=ee(S),X=K.value,Y=K.message,"number"===f||!f&&!isNaN(d)?(ie=s.valueAsNumber||parseFloat(d),w(U)||(me=ie>U),w(X)||(ye=ie<X)):(ae=s.valueAsDate||new Date(d),Q(U)&&(me=ae>new Date(U)),Q(X)&&(ye=ae<new Date(X))),!me&&!ye||(L(!!me,J,Y,y,p),t)))&&(!Q(d)||A||!m&&!k||(oe=ee(m),se=oe.value,le=oe.message,fe=ee(k),de=fe.value,ve=fe.message,he=d.toString().length,me=!w(se)&&he>se,ye=!w(de)&&he<de,!me&&!ye||(L(!!me,le,ve),t)))&&(!E||A||(pe=ee(E),be=pe.value,ge=pe.message,!Z(be)||be.test(d)||(l[a]=r({type:R,message:ge,ref:s},W(R,ge)),t)))?F?(Re=_(e,a,o),xe=B&&v?v[0].ref:s,re(F)?[4,F(Re)]:[3,2]):[3,11]:[2,l];case 1:return Oe=u.sent(),(De=ue(Oe,xe))&&(l[a]=r(r({},De),W(O,De.message)),!t)?[2,l]:[3,11];case 2:if(!V(F))return[3,11];we={},u.label=3;case 3:u.trys.push([3,8,9,10]),ke=c(Object.entries(F)),Se=ke.next(),u.label=4;case 4:return Se.done?[3,7]:(Ve=i(Se.value,2),Ce=Ve[0],Ee=Ve[1],G(we)||t?[4,Ee(Re)]:[3,7]);case 5:Fe=u.sent(),(De=ue(Fe,xe,Ce))&&(we=r(r({},De),W(Ce,De.message)),t&&(l[a]=we)),u.label=6;case 6:return Se=ke.next(),[3,4];case 7:return[3,10];case 8:return je=u.sent(),Be={error:je},[3,10];case 9:try{Se&&!Se.done&&(Ae=ke.return)&&Ae.call(ke)}finally{if(Be)throw Be.error}return[7];case 10:if(!G(we)&&(l[a]=r({ref:xe},we),!t))return[2,l];u.label=11;case 11:return[2,l]}}))}))},ae=function(e){return w(e)||!S(e)},oe=function(e,r){var t=function(r,t,n){var u=n?e+"."+t:e+"["+t+"]";return ae(r)?u:oe(u,r)};return k(r)?r.map((function(e,r){return t(e,r)})):Object.entries(r).map((function(e){var r=i(e,2),n=r[0],u=r[1];return t(u,n,!0)}))},se=function(e,r,t,n,u){var c;return t.add(r),G(e)?c=void 0:j(e[r])?(c=A(D(e),r),j(c)||function(e,r){return oe(e,r).flat(1/0)}(r,c).forEach((function(e){return t.add(e)}))):c=e[r],j(c)?u?n:A(n,r):c},le=function(e){var r=e.isOnChange,t=e.hasError,n=e.isBlurEvent,u=e.isOnSubmit,c=e.isReValidateOnSubmit,i=e.isOnBlur,a=e.isReValidateOnBlur,o=e.isSubmitted;return r&&n||u&&c||u&&!o||i&&!n&&!t||a&&!n&&t||c&&o},fe=function(e){return e.substring(0,e.indexOf("["))};function de(e,r){if(!k(e)||!k(r)||e.length!==r.length)return!0;for(var t=0;t<e.length;t++){var n=e[t],u=r[t];if(j(u)||Object.keys(n).length!==Object.keys(u).length)return!0;for(var c in n)if(n[c]!==u[c])return!0}return!1}var ve=function(e,r){return RegExp(("^"+r+"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e)},he=function(e,r){return a(e).some((function(e){return ve(r,e)}))},me=function(e){return"select-one"===e.type};var ye=function(e){return{isOnSubmit:!e||e===h,isOnBlur:e===d,isOnChange:e===v,isOnAll:e===m}},pe=function(e){return P(e)||H(e)},be="undefined"==typeof window,ge="undefined"!=typeof document&&!be&&!j(window.HTMLElement),Re=ge?"Proxy"in window:"undefined"!=typeof Proxy;var xe=e.createContext(null);xe.displayName="RHFContext";var Oe=function(){return e.useContext(xe)},we=function(){var e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var t=(16*Math.random()+e)%16|0;return("x"==r?t:3&t|8).toString(16)}))},ke=function(e,t){var n;return r(((n={})[t]=we(),n),V(e)?e:{value:e})},Se=function(e,r){return(k(e)?e:[]).map((function(e){return ke(e,r)}))};var Ve=function(e,r){return j(r)?[]:k(r)?function(e,r){for(var t=-1;++t<e.length;)r.indexOf(t)>=0&&delete e[t];return B(e)}(e,r):function(e,r){return a(e.slice(0,r),e.slice(r+1))}(e,r)},Ce=function(e,r,t){return k(e)?e.splice(t,0,e.splice(r,1)[0]):[]},Ee=function(e,r,t){var n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]};function Fe(e,r){return a(k(r)?r:[r||null],e)}function De(e,r,t){return a(e.slice(0,r),k(t)?t:[t||null],e.slice(r))}var je=function(e){return k(e)?Array(e.length).fill(null):null};function Be(e){if(V(e)){var r={};for(var t in e)r[t]=!0;return[r]}return[!0]}var Ae=function(e){return k(e)?e.map(Be).flat():Be(e)};exports.Controller=function(n){var u,c=n.name,a=n.rules,o=n.as,s=n.render,l=n.defaultValue,f=n.control,d=n.onFocus,v=t(n,["name","rules","as","render","defaultValue","control","onFocus"]),h=Oe(),m=f||h.control,y=m.defaultValuesRef,p=m.setValue,b=m.register,g=m.unregister,R=m.errorsRef,x=m.trigger,O=m.mode,w=O.isOnSubmit,k=O.isOnBlur,S=O.isOnChange,C=m.reValidateMode,E=C.isReValidateOnBlur,D=C.isReValidateOnSubmit,B=m.isSubmittedRef,W=m.touchedFieldsRef,L=m.readFormStateRef,N=m.reRender,P=m.fieldsRef,M=m.fieldArrayNamesRef,H=m.unmountFieldsStateRef,T=m.formState,I=!he(M.current,c),q=function(){return!j(A(H.current,c))&&I?H.current[c]:j(l)?A(y.current,c):l},z=i(e.useState(q()),2),$=z[0],_=z[1],U=e.useRef($),G=te($),J=e.useRef(d),K=B.current,Q=function(){return!le({hasError:!!A(R.current,c),isOnBlur:k,isOnSubmit:w,isOnChange:S,isReValidateOnBlur:E,isReValidateOnSubmit:D,isSubmitted:K})},X=function(e){var r=function(e,r){return ae(e)||!V(e.target)||V(e.target)&&!e.type?e:r||j(e.target.value)?e.target.checked:e.target.value}(e[0],G);return _(r),U.current=r,r},Y=e.useCallback((function(){P.current[c]?P.current[c]=r({ref:P.current[c].ref},a):b(Object.defineProperty({name:c,focus:J.current},"value",{set:function(e){_(e),U.current=e},get:function(){return U.current}}),a)}),[P,a,c,J,b]);e.useEffect((function(){return function(){!he(M.current,c)&&g(c)}}),[g,c,M]),e.useEffect((function(){Y()}),[Y]),e.useEffect((function(){P.current[c]||(Y(),I&&_(q()))}));var Z=function(){L.current.touched&&!A(W.current,c)&&(F(W.current,c,!0),N()),(k||T.isSubmitted&&E)&&x(c)},ee=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return p(c,X(e),{shouldValidate:Q(),shouldDirty:!0})},re=r(r(r({},v),{onChange:ee,onBlur:Z}),((u={})[G?"checked":"value"]=$,u));return o?e.isValidElement(o)?e.cloneElement(o,re):e.createElement(o,re):s?s({onChange:ee,onBlur:Z,value:$}):null},exports.FormContext=xe,exports.FormProvider=function(n){var u=n.children,c=t(n,["children"]);return e.createElement(xe.Provider,{value:r({},c)},u)},exports.appendErrors=ce,exports.get=A,exports.transformToNestObject=D,exports.useFieldArray=function(t){var n,u=t.control,o=t.name,s=t.keyName,l=void 0===s?"id":s,f=Oe(),d=e.useRef(-1),v=u||f.control,h=v.isWatchAllRef,m=v.resetFieldArrayFunctionRef,y=v.fieldArrayNamesRef,p=v.reRender,b=v.fieldsRef,g=v.defaultValuesRef,R=v.removeFieldEventListener,x=v.errorsRef,O=v.dirtyFieldsRef,w=v.isDirtyRef,S=v.touchedFieldsRef,V=v.readFormStateRef,E=v.watchFieldsRef,F=v.validFieldsRef,D=v.fieldsWithValidationRef,W=v.fieldArrayDefaultValues,L=v.validateSchemaIsValid,N=v.renderWatchedInputs,P=v.getValues,M=function(){return a(A(W.current[fe(o)]?W.current:g.current,o,[]))},H=e.useRef(M()),T=i(e.useState(Se(H.current,l)),2),I=T[0],q=T[1],z=i(e.useState(!1),2),$=z[0],_=z[1],U=e.useRef(I),G=C(o),J=function(){return E.current.has(o)?A(P(),o).map((function(e,t){return r(r({},U.current[t]),e)})):U.current};U.current=I,G&&(W.current[o]=H.current);var K=function(e){return e.map((function(e){return ke(e,l)}))},Q=function(e){var r;q(e),V.current.isValid&&L&&L(((r={})[o]=e,r))},X=function(e){(V.current.dirtyFields||V.current.isDirty)&&(e=!0),N(o),e&&!h.current&&p()},Y=function(e){for(var r in V.current.isDirty&&(w.current=j(e)||de(e,A(g.current,o,[]))),b.current)ve(r,o)&&b.current[r]&&R(b.current[r],!0)},Z=function(){Y(),H.current=M(),q(Se(H.current,l))};return e.useEffect((function(){var e,r;if(G&&$&&W.current[o]&&I.length<W.current[o].length&&W.current[o].pop(),h.current)p();else if(E)try{for(var t=c(E.current),n=t.next();!n.done;n=t.next()){if(n.value.startsWith(o)){p();break}}}catch(r){e={error:r}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}if(d.current>-1)for(var u in b.current){var i=b.current[u];if(u.startsWith(o+"["+d.current+"]")&&i.ref.focus){i.ref.focus();break}}d.current=-1}),[I,o,W,$,G,p,b,E,h]),e.useEffect((function(){var e=m.current,r=y.current;return r.add(o),e[o]=Z,function(){Y(),delete e[o],r.delete(o)}}),[]),{swap:e.useCallback((function(e,r){n=!1;var t=J();Ee(t,e,r),Y(t),Q(t),k(A(x.current,o))&&Ee(A(x.current,o),e,r),V.current.touched&&S.current[o]&&(Ee(S.current[o],e,r),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(Ee(O.current[o],e,r),n=!0),X(n)}),[o]),move:e.useCallback((function(e,r){n=!1;var t=J();Ce(t,e,r),Y(t),Q(t),k(A(x.current,o))&&Ce(A(x.current,o),e,r),V.current.touched&&S.current[o]&&(Ce(S.current[o],e,r),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(Ce(O.current[o],e,r),n=!0),X(n)}),[o]),prepend:e.useCallback((function(e,r){void 0===r&&(r=!0);var t=je(e);n=!1,Q(Fe(J(),k(e)?K(e):[ke(e,l)])),Y(),k(A(x.current,o))&&(x.current[o]=Fe(A(x.current,o),t)),V.current.touched&&S.current[o]&&(S.current[o]=Fe(S.current[o],t),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=Fe(O.current[o],Ae(e)),n=!0),X(n),d.current=r?0:-1}),[o]),append:e.useCallback((function(e,r){void 0===r&&(r=!0),n=!1,Q(a(U.current,k(e)?K(e):[ke(e,l)])),V.current.dirtyFields&&(O.current[o]=a(O.current[o]||je(I.slice(0,1)),Ae(e)),w.current=!0,n=!0),d.current=r?U.current.length:-1,X(n)}),[o]),remove:e.useCallback((function(e){if(n=!1,Q(Ve(J(),e)),Y(Ve(A(P(),o),e)),_(!0),k(A(x.current,o))&&(x.current[o]=Ve(A(x.current,o),e),B(x.current[o]).length||delete x.current[o]),V.current.touched&&S.current[o]&&(S.current[o]=Ve(S.current[o],e),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=Ve(O.current[o],e),O.current[o].length||delete O.current[o],n=!0),V.current.isValid&&!L)for(var r=-1,t=!1,u=j(e);r++<I.length;){var c=r===I.length-1,i=(k(e)?e:[e]).indexOf(r)>=0;if((i||u)&&(t=!0),t)for(var a in I[r]){var s=o+"["+r+"]."+a;if(i||c||u)F.current.delete(s),D.current.delete(s);else{var l=o+"["+(r-1)+"]."+a;F.current.has(s)&&F.current.add(l),D.current.has(s)&&D.current.add(l)}}}X(n)}),[I,o]),insert:e.useCallback((function(e,r,t){void 0===t&&(t=!0),n=!1;var u=je(r);Q(De(J(),e,k(r)?K(r):[ke(r,l)])),Y(De(A(P(),o),e)),k(A(x.current,o))&&(x.current[o]=De(A(x.current,o),e,u)),V.current.touched&&S.current[o]&&(S.current[o]=De(S.current[o],e,u),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=De(O.current[o],e,Ae(r)),n=!0),X(n),d.current=t?e:-1}),[o]),fields:I}},exports.useForm=function(t){var d=this,y=void 0===t?{}:t,p=y.mode,b=void 0===p?h:p,g=y.reValidateMode,R=void 0===g?v:g,x=y.resolver,O=y.context,S=y.defaultValues,C=void 0===S?{}:S,E=y.shouldFocusError,L=void 0===E||E,N=y.shouldUnregister,I=void 0===N||N,q=y.criteriaMode,z=e.useRef({}),$=e.useRef({}),Z=e.useRef({}),ee=e.useRef({}),te=e.useRef(new Set),ne=e.useRef({}),ue=e.useRef({}),ce=e.useRef({}),oe=e.useRef(new Set),ve=e.useRef(new Set),xe=e.useRef(!0),Oe=e.useRef(C),we=e.useRef({}),ke=e.useRef(!1),Se=e.useRef(!1),Ve=e.useRef(!1),Ce=e.useRef(!1),Ee=e.useRef(0),Fe=e.useRef(!1),De=e.useRef(),je=e.useRef({}),Be=e.useRef({}),Ae=e.useRef(O),We=e.useRef(x),Le=e.useRef(new Set),Ne=i(e.useState(),2)[1],Pe=e.useRef(ye(b)).current,Me=Pe.isOnBlur,He=Pe.isOnSubmit,Te=Pe.isOnChange,Ie=Pe.isOnAll,qe=q===m,ze=e.useRef({isDirty:!Re,dirtyFields:!Re,isSubmitted:He,submitCount:!Re,touched:!Re,isSubmitting:!Re,isValid:!Re}),$e=e.useRef(ye(R)).current,_e=$e.isOnBlur,Ue=$e.isOnSubmit;Ae.current=O,We.current=x;var Ge=e.useCallback((function(){ke.current||Ne({})}),[]),Je=e.useCallback((function(e,r,t){void 0===t&&(t=!1);var n=t||function(e){var r=e.errors,t=e.name,n=e.error,u=e.validFields,c=e.fieldsWithValidation,i=G(n),a=G(r),o=A(n,t),s=A(r,t);return(!i||!u.has(t))&&(!!(a!==i||!a&&!s||i&&c.has(t)&&!u.has(t))||o&&!Y(s,o))}({errors:$.current,error:r,name:e,validFields:ve.current,fieldsWithValidation:oe.current}),u=A($.current,e);if(G(r)?((oe.current.has(e)||We.current)&&(ve.current.add(e),n=n||u),$.current=J($.current,e)):(ve.current.delete(e),n=n||!u||!Y(u,r[e]),F($.current,e,r[e])),n&&!w(t))return Ge(),!0}),[Ge]),Ke=e.useCallback((function(e,r){var t=e.ref,n=e.options,u=ge&&o(t)&&w(r)?"":r;P(t)&&n?n.forEach((function(e){var r=e.ref;return r.checked=r.value===u})):M(t)?Q(u)?t.value=u:t.files=u:T(t)?a(t.options).forEach((function(e){return e.selected=u.includes(e.value)})):H(t)&&n?n.length>1?n.forEach((function(e){var r=e.ref;return r.checked=u.includes(r.value)})):n[0].ref.checked=!!u:t.value=u}),[]),Qe=e.useCallback((function(e){var r=ze.current,t=r.isDirty,n=r.dirtyFields;if(!z.current[e]||!t&&!n)return!1;var u=we.current[e]!==_(z,e,je),c=A(ne.current,e),i=he(Le.current,e),a=Ce.current;return u?F(ne.current,e,!0):J(ne.current,e),Ce.current=i&&de(A(cr(),fe(e)),A(Oe.current,fe(e)))||!G(ne.current),t&&a!==Ce.current||n&&c!==A(ne.current,e)}),[]),Xe=e.useCallback((function(e,r){return n(d,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return z.current[e]?[4,ie(z,qe,z.current[e],je)]:[3,2];case 1:return t=n.sent(),Je(e,t,!!r&&null),[2,G(t)];case 2:return[2,!1]}}))}))}),[Je,qe]),Ye=e.useCallback((function(e){return n(d,void 0,void 0,(function(){var r,t,n,c,i;return u(this,(function(u){switch(u.label){case 0:return[4,We.current(cr(),Ae.current,qe)];case 1:return r=u.sent().errors,t=xe.current,xe.current=G(r),k(e)?(n=e.map((function(e){var t=A(r,e);return t?F($.current,e,t):J($.current,e),!t})).every(Boolean),Ge(),[2,n]):(c=A(r,e),Je(e,c?((i={})[e]=c,i):{},t!==xe.current),[2,!c])}}))}))}),[Ge,Je,qe]),Ze=e.useCallback((function(e){return n(d,void 0,void 0,(function(){var r,t,c=this;return u(this,(function(i){switch(i.label){case 0:return r=e||Object.keys(z.current),We.current?[2,Ye(r)]:k(r)?[4,Promise.all(r.map((function(e){return n(c,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,Xe(e,!0)];case 1:return[2,r.sent()]}}))}))})))]:[3,2];case 1:return t=i.sent(),Ge(),[2,t.every(Boolean)];case 2:return[4,Xe(r)];case 3:return[2,i.sent()]}}))}))}),[Ye,Xe,Ge]),er=e.useCallback((function(e,r,t,n){for(var u in r){var c=(n||e)+(k(r)?"["+u+"]":"."+u),i=z.current[c];V(r[u])&&er(e,r[u],t,c),i&&(Ke(i,r[u]),t.shouldDirty&&Qe(c),t.shouldValidate&&Ze(c))}}),[Ze,Ke,Qe]),rr=e.useCallback((function(e,r,t){return z.current[e]?(Ke(z.current[e],r),t.shouldDirty&&Qe(e)):ae(r)?void(je.current[e]=r):(er(e,r,t),!0)}),[Qe,Ke,er]),tr=function(e){return Se.current||te.current.has(e)||te.current.has((e.match(/\w+/)||[])[0])},nr=function(e,r){if(void 0===r&&(r=!0),!G(ue.current))for(var t in ue.current)(""===e||ue.current[t].has(e)||!ue.current[t].size||he(Le.current,e))&&(ce.current[t](),r=!1);return r};De.current=De.current?De.current:function(e){var r=e.type,t=e.target;return n(d,void 0,void 0,(function(){var e,n,c,i,a,o,l,f,d;return u(this,(function(u){switch(u.label){case 0:return e=t?t.name:"",(n=z.current[e])?(i=r===s,a=!Ie&&le({hasError:!!A($.current,e),isOnChange:Te,isBlurEvent:i,isOnSubmit:He,isReValidateOnSubmit:Ue,isOnBlur:Me,isReValidateOnBlur:_e,isSubmitted:Ve.current}),o=Qe(e)||tr(e),i&&!A(Z.current,e)&&ze.current.touched&&(F(Z.current,e,!0),o=!0),a?(nr(e),[2,o&&Ge()]):x?[4,x(cr(),Ae.current,qe)]:[3,2]):[2];case 1:return l=u.sent().errors,f=xe.current,xe.current=G(l),c=A(l,e)?((d={})[e]=A(l,e),d):{},f!==xe.current&&(o=!0),[3,4];case 2:return[4,ie(z,qe,n,je)];case 3:c=u.sent(),u.label=4;case 4:return nr(e),!Je(e,c)&&o&&Ge(),[2]}}))}))};var ur=function(e){return _(z,e,je)};function cr(e){return Q(e)?ur(e):k(e)?e.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=ur(t),n))}),{}):D(X(z,je))}var ir=e.useCallback((function(e){void 0===e&&(e={}),We.current(r(r(r({},Oe.current),cr()),e),Ae.current,qe).then((function(e){var r=e.errors,t=xe.current;xe.current=G(r),t!==xe.current&&Ge()}))}),[Ge,qe]),ar=e.useCallback((function(e,r){!function(e,r,t,n,u,c){var i=t.ref,a=t.ref,o=a.name,s=a.type,l=t.mutationWatcher,f=e.current[o];if(!u){var d=_(e,o,n);j(d)||(n.current[o]=d)}if(s)if((P(i)||H(i))&&f){var v=f.options;k(v)&&v.length?(B(v).forEach((function(e,t){var n=e.ref,u=e.mutationWatcher;(n&&U(n)&&K(e,n)||c)&&(W(n,r),u&&u.disconnect(),J(v,"["+t+"]"))})),v&&!B(v).length&&delete e.current[o]):delete e.current[o]}else(U(i)&&K(f,i)||c)&&(W(i,r),l&&l.disconnect(),delete e.current[o]);else delete e.current[o]}(z,De.current,e,je,I,r)}),[I]),or=e.useCallback((function(e,r){!e||he(Le.current,e.ref.name)&&!r||(ar(e,r),I&&([$,Z,ne,we].forEach((function(r){return J(r.current,e.ref.name)})),[oe,ve,te].forEach((function(r){return r.current.delete(e.ref.name)})),(ze.current.isValid||ze.current.touched||ze.current.isDirty)&&(Ce.current=!G(ne.current),Ge(),We.current&&ir())))}),[Ge,ir,ar]),sr=e.useCallback((function(e,t,n){var u=n?ue.current[n]:te.current,c=j(t)?Oe.current:t,i=X(z,je,e);return Q(e)?se(i,e,u,j(t)?A(c,e):t,!0):k(e)?e.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=se(i,t,u,c),n))}),{}):(j(n)&&(Se.current=!0),D(!G(i)&&i||c))}),[]);function lr(e,t){if(void 0===t&&(t={}),e.name){var n,u,c=e.name,i=e.type,d=e.value,v=r({ref:e},t),h=z.current,m=pe(e),y=h[c],p=!0;if(y&&(m?k(y.options)&&B(y.options).find((function(r){return d===r.ref.value&&r.ref===e})):e===y.ref))h[c]=r(r({},y),t);else{if(i){var b=(g=e,R=function(){return or(y)},(O=new MutationObserver((function(){U(g)&&(O.disconnect(),R())}))).observe(window.document,{childList:!0,subtree:!0}),O);y=m?r({options:a(B(y&&y.options||[]),[{ref:e,mutationWatcher:b}]),ref:{type:i,name:c}},t):r(r({},v),{mutationWatcher:b})}else y=v;var g,R,O;h[c]=y;var w=j(A(je.current,c));G(Oe.current)&&w||(u=A(w?Oe.current:je.current,c),p=j(u),n=he(Le.current,c),p||n||Ke(y,u)),x&&!n&&ze.current.isValid?ir():G(t)||(oe.current.add(c),!He&&ze.current.isValid&&ie(z,qe,y,je).then((function(e){var r=xe.current;G(e)?ve.current.add(c):xe.current=!1,r!==xe.current&&Ge()}))),we.current[c]||n&&p||(we.current[c]=p?_(z,c,je):u),i&&function(e){var r=e.field.ref,t=e.handleChange,n=e.isRadioOrCheckbox;o(r)&&t&&(r.addEventListener(n?l:f,t),r.addEventListener(s,t))}({field:m&&y.options?y.options[y.options.length-1]:y,isRadioOrCheckbox:m||me(e),handleChange:De.current})}}}var fr=e.useCallback((function(e){return function(t){return n(d,void 0,void 0,(function(){var n,i,a,o,s,l,f,d,v,h,m,y,p;return u(this,(function(u){switch(u.label){case 0:t&&t.preventDefault&&(t.preventDefault(),t.persist()),n={},i=r(r({},je.current),cr()),ze.current.isSubmitting&&(Fe.current=!0,Ge()),u.label=1;case 1:return u.trys.push([1,,14,15]),We.current?[4,We.current(i,Ae.current,qe)]:[3,3];case 2:return a=u.sent(),o=a.errors,s=a.values,$.current=o,n=o,i=s,[3,10];case 3:u.trys.push([3,8,9,10]),l=c(Object.values(z.current)),f=l.next(),u.label=4;case 4:return f.done?[3,7]:(d=f.value)?(v=d.ref.name,[4,ie(z,qe,d,je)]):[3,6];case 5:(h=u.sent())[v]?(F(n,v,h[v]),ve.current.delete(v)):oe.current.has(v)&&ve.current.add(v),u.label=6;case 6:return f=l.next(),[3,4];case 7:return[3,10];case 8:return m=u.sent(),y={error:m},[3,10];case 9:try{f&&!f.done&&(p=l.return)&&p.call(l)}finally{if(y)throw y.error}return[7];case 10:return G(n)&&Object.keys($.current).every((function(e){return Object.keys(z.current).includes(e)}))?($.current={},Ge(),[4,e(i,t)]):[3,12];case 11:return u.sent(),[3,13];case 12:$.current=r(r({},$.current),n),L&&ge&&function(e,r){for(var t in e)if(A(r,t)){var n=e[t];if(n){if(n.ref.focus){n.ref.focus();break}if(n.options){n.options[0].ref.focus();break}}}}(z.current,n),u.label=13;case 13:return[3,15];case 14:return Ve.current=!0,Fe.current=!1,Ee.current=Ee.current+1,Ge(),[7];case 15:return[2]}}))}))}}),[Ge,L,qe]);e.useEffect((function(){return ke.current=!1,function(){ke.current=!0,z.current&&Object.values(z.current).forEach((function(e){return or(e,!0)}))}}),[or]),x||(xe.current=ve.current.size>=oe.current.size&&G($.current));var dr={dirtyFields:ne.current,isSubmitted:Ve.current,submitCount:Ee.current,touched:Z.current,isDirty:Ce.current,isSubmitting:Fe.current,isValid:He?Ve.current&&G($.current):xe.current},vr={trigger:Ze,setValue:e.useCallback((function(e,r,t){void 0===t&&(t={});var n=rr(e,r,t)||tr(e);nr(e),n&&Ge(),t.shouldValidate&&Ze(e)}),[Ge,rr,Ze]),getValues:e.useCallback(cr,[]),register:e.useCallback((function(e,r){if(!be)if(Q(e))lr({name:e},r);else{if(!V(e)||!("name"in e))return function(r){return r&&lr(r,e)};lr(e,r)}}),[Oe.current]),unregister:e.useCallback((function(e){(k(e)?e:[e]).forEach((function(e){return or(z.current[e],!0)}))}),[]),formState:Re?new Proxy(dr,{get:function(e,r){if(r in e)return ze.current[r]=!0,e[r]}}):dr},hr=r(r(r({removeFieldEventListener:ar,renderWatchedInputs:nr,watchInternal:sr,reRender:Ge},x?{validateSchemaIsValid:ir}:{}),{mode:{isOnBlur:Me,isOnSubmit:He,isOnChange:Te},reValidateMode:{isReValidateOnBlur:_e,isReValidateOnSubmit:Ue},errorsRef:$,touchedFieldsRef:Z,fieldsRef:z,isWatchAllRef:Se,watchFieldsRef:te,resetFieldArrayFunctionRef:Be,watchFieldsHookRef:ue,watchFieldsHookRenderRef:ce,fieldArrayDefaultValues:ee,validFieldsRef:ve,dirtyFieldsRef:ne,fieldsWithValidationRef:oe,fieldArrayNamesRef:Le,isDirtyRef:Ce,isSubmittedRef:Ve,readFormStateRef:ze,defaultValuesRef:Oe,unmountFieldsStateRef:je}),vr);return r({watch:function(e,r){return sr(e,r)},control:hr,handleSubmit:fr,reset:e.useCallback((function(e,r){var t,n;if(void 0===r&&(r={}),ge)try{for(var u=c(Object.values(z.current)),i=u.next();!i.done;i=u.next()){var a=i.value;if(a){var s=a.ref,l=a.options,f=pe(s)&&k(l)?l[0].ref:s;if(o(f))try{f.closest("form").reset();break}catch(e){}}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}e&&(Oe.current=e,nr("")),je.current=e||{},Object.values(Be.current).forEach((function(e){return re(e)&&e()})),function(e){var r=e.errors,t=e.isDirty,n=e.isSubmitted,u=e.touched,c=e.isValid,i=e.submitCount,a=e.dirtyFields;z.current={},r||($.current={}),u||(Z.current={}),c||(ve.current=new Set,oe.current=new Set,xe.current=!0),t||(Ce.current=!1),a||(ne.current={}),n||(Ve.current=!1),i||(Ee.current=0),we.current={},ee.current={},te.current=new Set,Se.current=!1}(r),Ge()}),[]),clearErrors:e.useCallback((function(e){e?(k(e)?e:[e]).forEach((function(e){return J($.current,e)})):$.current={},Ge()}),[]),setError:e.useCallback((function(e,t){xe.current=!1,F($.current,e,r(r({},t),{ref:(z.current[e]||{}).ref})),Ge()}),[]),errors:$.current},vr)},exports.useFormContext=Oe,exports.useWatch=function(t){var n=t.control,u=t.name,c=t.defaultValue,a=Oe(),o=n||a.control,s=o.watchFieldsHookRef,l=o.watchFieldsHookRenderRef,f=o.watchInternal,d=o.defaultValuesRef,v=i(e.useState(j(c)?Q(u)?A(d.current,u):k(u)?u.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=A(d.current,t),n))}),{}):d.current:c),2),h=v[0],m=v[1],y=e.useRef(),p=e.useRef(c),b=e.useRef(u),g=e.useCallback((function(){return m(f(b.current,p.current,y.current))}),[m,f,p,b,y]);return e.useEffect((function(){var e=y.current=we(),r=l.current,t=s.current;return t[e]=new Set,r[e]=g,f(b.current,p.current,e),function(){delete t[e],delete r[e]}}),[b,g,l,s,f,p]),j(h)?c:h};
//# sourceMappingURL=index.ie11.production.min.js.map
